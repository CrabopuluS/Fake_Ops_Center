# Fake Ops Center

Fake Ops Center — кроссплатформенное настольное приложение, имитирующее «ситуационный центр» с синтетическими метриками, инцидентами и логами. Проект предназначен для демонстрации архитектуры real-time UI на Python с использованием PySide6, qasync и pyqtgraph.

## Возможности
- Живые графики CPU/Memory с историей до 120 секунд.
- Таблица инцидентов со статусами, фильтрами и быстрыми действиями (Acknowledge/Resolve).
- Поток логов с подсветкой уровней, поиском и автоскроллом.
- Плиточная карта объектов с маркерами и подсветкой инцидентов.
- Всплывающие тост-уведомления о ключевых событиях.
- Горячие клавиши для полноэкранного режима, паузы симуляции, сброса данных и сохранения скриншотов.
- Темы (тёмная и светлая) с переключением на лету.
- Конфигурируемые скорости генерации данных и размеры буферов через `config.yaml`.

## Установка
```bash
python -m venv .venv
source .venv/bin/activate  # Windows: .\.venv\Scripts\activate
pip install -e .[dev]
```

## Запуск
```bash
python -m fake_ops_center.app --config config.yaml
```

После запуска приложение открывается в оконном режиме (или полноэкранном, если указано в конфиге) и автоматически стартует симуляцию.

## Управление
- `F11` — переключение полноэкранного режима.
- `Ctrl+P` — пауза/продолжение симуляции.
- `Ctrl+R` — сброс данных (очистка буферов, перезапуск генераторов).
- `Ctrl+S` — скриншот главного окна в папку `screens/`.
- `Ctrl+F` — фокус в поле поиска логов (ввод и Enter для поиска, кнопка Next — переход к следующему совпадению).
- Меню **Simulation** содержит действия Pause/Reset, **Theme** — переключение между тёмной и светлой темами.

## Конфигурация
Основной файл `config.yaml` управляет скоростями генерации данных, параметрами буферов и карты, а также путём к теме оформления. Пример:

```yaml
theme: themes/dark.yaml
window:
  fullscreen: false
  size: [1600, 900]
feeds:
  metrics_hz: 10
  logs_per_sec: 6
  incidents_per_min: 8
  incident_autoresolve_sec: [30, 120]
buffers:
  metrics_seconds: 120
  max_logs: 1000
  max_incidents: 200
map:
  grid: [20, 12]
  hotspot_prob: 0.15
  max_markers: 40
```

Изменения вступают в силу после перезапуска приложения. Значения валидируются при загрузке: некорректные параметры вызовут понятное сообщение об ошибке.

## Сборка исполняемого файла

Для создания автономного настольного приложения используется PyInstaller.

1. Установите зависимости проекта и инструменты разработчика:
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # Windows: .\.venv\Scripts\activate
   pip install -e .[dev]
   pip install pyinstaller
   ```
2. Сгенерируйте сборку:
   ```bash
   pyinstaller FakeOpsCenter.spec
   ```
3. Готовое приложение будет в каталоге `dist/FakeOpsCenter/`. В нём лежат бинарный файл и все необходимые ресурсы (`config.yaml`, темы и т. д.). По умолчанию приложение использует встроенный `config.yaml`, но вы можете передать внешний файл параметром `--config`.

Полученный каталог можно архивировать и распространять. Для обновления конфигурации или темы в портативной сборке отредактируйте файлы рядом с исполняемым файлом.

## Темы
Файлы в каталоге `themes/` описывают цветовые схемы приложения. Каждый файл содержит ключи `bg`, `fg`, `accent`, цвета для уровней логов и маркеров карты. Создайте собственную тему, скопировав существующую и изменив палитру.

## Скриншоты
Скриншоты сохраняются по сочетанию `Ctrl+S` в каталог `screens/` с именем `fake-ops-center-<timestamp>.png`. Добавьте лучшие кадры в этот раздел README по мере работы с приложением.

## Лицензия
Проект распространяется по лицензии [MIT](LICENSE).
